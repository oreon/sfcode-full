<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:s="http://jboss.com/products/seam/taglib"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html">

    <ul id="Navigation">
        <li id="page_home"><s:link id="Home" view="/home.xhtml" value="Home" propagation="none"/></li>
        <li id="page_shop"><s:link id="Shop" view="/browse.xhtml" value="Shop" propagation="none"/></li>
        <f:subview rendered="#{identity.loggedIn}">
            <li id="page_orders"><s:link id="MyOrders" view="/showorders.xhtml" value="My Orders" propagation="none"/></li>
        </f:subview>
        <f:subview rendered="#{!identity.loggedIn}">
            <li id="page_register"><s:link id="Register" view="/reg/registerForm.xhtml" value="Register" propagation="none"/></li>
        </f:subview>
  		 <f:subview rendered="#{!identity.loggedIn}">
            <li id="page_register"><s:link id="Register" view="/reg/registerForm.xhtml" value="Register" propagation="none" styleClass="button"/></li>
        </f:subview>
        <f:subview rendered="#{identity.loggedIn}">
            <li id="page_admin"><s:link id="Admin" view="/admin/home.xhtml" value="Admin" propagation="none" styleClass="button"/></li>
        	<li><s:link action="#{identity.logout}" view="/login.xhtml" value="Logout #{identity.credentials.username}" propagation="none" /></li>
        </f:subview>
       	
    </ul>

    <script type="text/javascript" language="JavaScript">
        function setClass(id, className) {
            var obj = document.getElementById(id);
            if (obj != null) {
                obj.className = className;
            }
        }
        setClass("page_" + "#{page}", "current");
    </script>

</div>
