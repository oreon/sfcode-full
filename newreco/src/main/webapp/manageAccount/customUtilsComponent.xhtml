<?xml version="1.0" encoding="WINDOWS-1252" standalone="no"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml" xmlns:a="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:wc="http://witchcraft.sourceforge.net/jsf">
	<div class="entry errors"><h:messages globalOnly="true" /></div>
<!-- 
removed from the datatable, otherwise when we want to add the first utility, the list won't show because it is empty. 
rendered="#{not empty realEstatePropertyAction.listUtilitiys}"
 -->
	<a:form enctype="multipart/form-data">
		<s:validateAll>
			<rich:panel>
				<a:commandButton action="#{realEstatePropertyAction.addUtilitiys}"
					reRender="utilitiys_data#{entityId}" value="New Utilitiy">
					<s:conversationId />
				</a:commandButton>

				<rich:dataTable id="utilitiys_data#{entityId}"
					rowClasses="odd, even" rowKeyvar="rowIndex" rows="10" rules="all"
					styleClass="dataTable" 
					value="#{realEstatePropertyAction.listUtilitiys}" var="_utilitiy">


					<h:column style="text-align:right">
						<f:facet name="header">
							<h:outputText value="#{msg.utilitiy_name} * " />
						</f:facet>


						<h:inputText id="utilitiy_name#{entityId}"
							label="#{msg.utilitiy_name}" required="true"
							value="#{_utilitiy.name}" />


						<h:message for="utilitiy_name" styleClass="error errors" />
					</h:column>


					<h:column style="text-align:right">
						<f:facet name="header">
							<h:outputText value="#{msg.utilitiy_transferred}  " />
						</f:facet>


						<h:selectBooleanCheckbox id="utilitiy_transferred#{entityId}"
							label="#{msg.utilitiy_transferred}" required="false"
							value="#{_utilitiy.transferred}" />


						<h:message for="utilitiy_transferred" styleClass="error errors" />
					</h:column>







					<h:column style="text-align:left">
						<f:facet name="header">
							<h:outputText value="#{msg.utilitiy_accountNumber}  " />
						</f:facet>


						<h:inputText id="utilitiy_accountNumber#{entityId}"
							label="#{msg.utilitiy_accountNumber}" required="false"
							value="#{_utilitiy.accountNumber}" />


						<h:message errorStyle="color:red" warnStyle="color:orange" infoStyle="color:green" for="utilitiy_accountNumber" styleClass="error errors" />
					</h:column>




					<h:column>

						<a:commandButton action="#{realEstatePropertyAction.addUtilitiys}"
							reRender="utilitiys_data#{entityId}" value="New Utilitiy">
							<s:conversationId />
						</a:commandButton>
					</h:column>

					<h:column>
						<a:commandButton
							action="#{realEstatePropertyAction.deleteUtilitiys(rowIndex)}"
							immediate="true" reRender="utilitiys_data#{entityId}"
							value="Delete">
							<s:conversationId />
							<f:param  name="index" value="#{_utilitiy.id}"/>
							<f:param  name="test" value="#{rowIndex}"/>
						</a:commandButton>
					</h:column>
					
					
					<!-- 
					
					# <a4j:commandLink id="#{rowIndex}COMMANDID" reRender="devpanel"  
#                 action="#{DescriptionHandler.processDelete}">  
#                 <h:graphicImage value="images/trashcan.gif" width="12"   
#                   height="17" style="border:none;"/>  
#                   <a4j:actionparam name="desc#{rowIndex}ID" value="#{rowIndex}" assignTo="#{DescriptionHandler.rowUpdated}" />  
#                </a4j:commandLink> 
					 -->
					
					
					
					
					
					
					
					
					

				</rich:dataTable>

			</rich:panel>
		</s:validateAll>
		
			
		<div class="buttonBox"><h:commandButton
			action="#{realEstatePropertyAction.save}" value="Save">
			<s:conversationPropagation type="end" />
		</h:commandButton> <h:outputText value=" " /> <h:commandButton
			action="#{realEstatePropertyAction.cancel}" immediate="true"
			value="Cancel">
			<s:conversationPropagation type="end" />
		</h:commandButton></div>
	</a:form>
</ui:composition>
