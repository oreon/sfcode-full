
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:wc="http://witchcraft.sourceforge.net/jsf">

<h:form id="customerSearch" styleClass="edit">

	<rich:simpleTogglePanel label="Customer Search Filter"
		switchType="ajax">
		<h:panelGrid columns="4">

			<s:decorate template="layout/display.xhtml">
				<ui:define name="label">First name</ui:define>
				<h:inputText id="firstName" value="#{customerList.customer.firstName}" />
			</s:decorate>

			<s:decorate template="layout/display.xhtml">
				<ui:define name="label">Last name</ui:define>
				<h:inputText id="lastName" value="#{customerList.customer.lastName}" />
			</s:decorate>

			<s:decorate template="layout/display.xhtml">
				<ui:define name="label">From</ui:define>
				<rich:calendar id="from"
					value="#{customerList.dateCreatedRange.begin}" />
			</s:decorate>

			<s:decorate template="layout/display.xhtml">
				<ui:define name="label">To</ui:define>
				<rich:calendar id="to" value="#{customerList.dateCreatedRange.end}" />
			</s:decorate>


		</h:panelGrid>
	</rich:simpleTogglePanel>

	<div class="actionButtons"><h:commandButton id="search"
		value="Search" view="/admin/entities/domain/customer/listCustomer.xhtml" /> <s:button id="reset"
		value="Reset" includePageParams="false" /></div>

</h:form>


<rich:panel>
	<f:facet name="header">Customer Search Results</f:facet>
	<div class="results" id="customerList"><h:outputText
		value="The customer search returned no results."
		rendered="#{empty customerList.resultList}" /> <rich:dataTable
		id="customerList" var="_customer" value="#{customerList.resultList}"
		rendered="#{not empty customerList.resultList}">
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="Id" />
					<ui:param name="propertyPath" value="customer.id" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.id}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="Archived" />
					<ui:param name="propertyPath" value="customer.archived" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.archived}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="Date created" />
					<ui:param name="propertyPath" value="customer.dateCreated" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.dateCreated}">
				<s:convertDateTime type="both" dateStyle="short" />
			</h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="Date updated" />
					<ui:param name="propertyPath" value="customer.dateUpdated" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.dateUpdated}">
				<s:convertDateTime type="both" dateStyle="short" />
			</h:outputText>
		</h:column>
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="First name" />
					<ui:param name="propertyPath" value="customer.firstName" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.firstName}" />
		</h:column>
		<h:column>
			<f:facet name="header">
				<ui:include src="layout/sort.xhtml">
					<ui:param name="entityList" value="#{customerList}" />
					<ui:param name="propertyLabel" value="Last name" />
					<ui:param name="propertyPath" value="customer.lastName" />
				</ui:include>
			</f:facet>
			<h:outputText value="#{_customer.lastName}" />
		</h:column>
<!--
		<rich:column styleClass="action">
			<f:facet name="header">Action</f:facet>
			<s:link  action="viewCustomer"
				value="#{empty from ? 'View' : 'Select'}"
				propagation="#{empty from ? 'none' : 'default'}" id="customer">
				<f:param name="customerId" value="#{_customer.id}" />
			</s:link>
            #{' '}
            <s:link action="edit" value="Edit"
				propagation="none" id="customerEdit" rendered="#{empty from}">
				<f:param name="customerId" value="#{_customer.id}" />
			</s:link>
		</rich:column>
-->
		<h:column>
			<f:facet name="header">
				<h:outputText value=" " />
			</f:facet>
			<s:link action="#{customerAction.view}" propagation="begin">
				<h:graphicImage value="/images/icons/eye.png" style="border: 0px" />
				<f:param name="id" value="#{_customer.id}" />
			</s:link>
		</h:column>


		<h:column>
			<f:facet name="header">
				<h:outputText value=" " />
			</f:facet>
			<s:link action="#{customerAction.edit}" propagation="begin">
				<h:graphicImage value="/images/icons/edit.png" style="border: 0px" />
				<f:param name="id" value="#{_customer.id}" />
			</s:link>
		</h:column>


	</rich:dataTable></div>
</rich:panel>

<div class="tableControl"><s:link view="/admin/entities/domain/customer/listCustomer.xhtml"
	rendered="#{customerList.previousExists}"
	value="#{messages.left}#{messages.left} First Page" id="firstPage">
	<f:param name="firstResult" value="0" />
</s:link> <s:link view="/admin/entities/domain/customer/listCustomer.xhtml"
	rendered="#{customerList.previousExists}"
	value="#{messages.left} Previous Page" id="previousPage">
	<f:param name="firstResult" value="#{customerList.previousFirstResult}" />
</s:link> <s:link view="/admin/entities/domain/customer/listCustomer.xhtml"
	rendered="#{customerList.nextExists}"
	value="Next Page #{messages.right}" id="nextPage">
	<f:param name="firstResult" value="#{customerList.nextFirstResult}" />
</s:link> <s:link view="/admin/entities/domain/customer/listCustomer.xhtml"
	rendered="#{customerList.nextExists}"
	value="Last Page #{messages.right}#{messages.right}" id="lastPage">
	<f:param name="firstResult" value="#{customerList.lastFirstResult}" />
</s:link></div>



<s:div styleClass="actionButtons" rendered="#{empty from}">
	<h:commandButton value="Create New"  action="edit" />
</s:div>


</html>